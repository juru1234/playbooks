- name: Clone zsh autosuggestions 
  git:
    repo: https://github.com/zsh-users/zsh-autosuggestions
    dest: ~/.zsh/zsh-autosuggestions
    clone: yes
    update: yes

- name: Install starship with cargo
  ansible.builtin.shell:
    cmd: cargo install starship --locked
  when:
    - ansible_facts['distribution'] == "Fedora"

- name: Create .config directory
  ansible.builtin.file:
    path: ~/.config
    state: directory

- name: Copy starship.toml
  ansible.builtin.copy:
    src: starship.toml
    dest: ~/.config/starship.toml
    mode: 0644 

- name: Copy zshconfig
  ansible.builtin.copy:
    src: zshconfig
    dest: ~/.zshconfig
    mode: 0644 

- name: Copy zshconfig_fedora
  ansible.builtin.copy:
    src: zshconfig_fedora
    dest: ~/.zshrc
    mode: 0644 
  when:
    - ansible_facts['distribution'] == "Fedora"
